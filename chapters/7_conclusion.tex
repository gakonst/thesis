\chapter{Conclusion and Future Work}\label{ch:conclusion}

\section{Conclusion}
In this Diploma Thesis we explained the functionality and applications of blockchain technology. Executing complex operations and transactions at scale can result in significant costs realized as transaction fees and as a result blockchain scalability is considered to be a large issue. A blockchain should be viewed as a tool and not a panacea and should be selectively used where there is need to remove the trust in a third party about the integrity, availability and transparency of data. 

Ethereum is a blockchain platform which allows to create Decentralized Applications in its blockchain by allowing Turing complete programs to be executed inside the Ethereum Virtual Machine. As a blockchain, Ethereum inherits the scalability issues of blockchains, and the functionality of smart contracts is limited by the throughput of the network, while maintaining reasonably low fees. We claim that solving scalability in Ethereum requires adjustments both at the network level and at the smart contract level. We briefly described the network level scalability solutions and enumerate programming rules and best practices for better contract level scalability, as well as propose a technique for more efficient data storage in smart contracts.

Although the attacks on the Ethereum protocol were limited and quickly remediated, smart contracts that are insecure are consistently being developed and exploited in the wild. We go over past smart contract hacks which have led to heists of over 200 million dollars, as well as cases of funds being unspendable due to smart contract code that is no longer able to be run. We evaluated the usage of the tool Slither and found it to be superior to the other available open source auditing tools. 

We developed a suite of smart contracts as well as client scripts that, which perform metering and billing of energy across a complex set of meters and departments based on a predefined accounting model set by the collaborating company, HREG. The system was deployed on a public testnet and as a result is transparent and decentralized. The transactions are publicly inspectable and verifiable by anyone in the network. It is considered to be reasonably secure\footnote{No system can be fully secure, unless formally verified.} given that no true positives were given from Slither and that the authoring of the code was made with taking the industry's best practices into mind, from Chapter \ref{ch:security}. An access control list was developed in Chapter \ref{ch:implementation} to allow only certain company members to have access to certain functions of the smart contracts, as set by the permissions granted or revoked by the managers. Finally, the system's scalability is improved by following the scalability rules and by utilizing the proposed authoring technique for storing data from Chapter \ref{ch:scalability}.


\section{Future Work}

All of the identified research topics for the Diploma Thesis were explored adequately. 

Future work includes research on compiler optimizations to remove redundant operations and optimize parts of the reading and writing to storage, as a short term contract level scalability solution. Research on network level scalability should move towards Proof of Stake consensus algorithms to remove the need for the energy-consuming Proof of Work, as well as further research should be performed on the implementations of sidechains, state channels and sharding.

On security, smart contract languages must be developed which by default do not allow basic vulnerabilities such as TheDAO, and ones which are formally verifiable, in order to be able to mathematically prove that the code is not going to deviate from its intended results. Auditing tools should be further improved to analyze not only source code, but bytecode as well. Static analysis is not enough to detect vulnerabilities that are unknown, so there must be progress in the area of symbolic analysis tools.

Due to the aforementioned scalability issues, a use-case involving frequent transactions between multiple devices in an IoT scenario, such as our implementation, has large operational costs and it maybe the case that a permissioned blockchain can perform better, or an alternative distributed ledger architecture such as IOTA or Nano, which boast low transaction costs and high throughput. An additional improvement on our system is making it so that the client script for each meter is able to be run on the meter itself, thus removing the need for the monitoring server, which is a single point of failure.